{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/blog.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"ngx-timeago\";\n\nconst _c0 = function (a1) {\n  return [\"/blogs\", a1];\n};\n\nfunction ListsComponent_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 3);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"label\");\n    i0.ɵɵelementStart(3, \"input\", 5);\n    i0.ɵɵlistener(\"change\", function ListsComponent_li_1_Template_input_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.onSelectBlog($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"small\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"timeago\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 8);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementStart(11, \"a\", 9);\n    i0.ɵɵtext(12, \"continue reading\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const blog_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"value\", blog_r2.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(blog_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 5, blog_r2.updatedAt));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", blog_r2.content, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, blog_r2.id));\n  }\n}\n\nfunction ListsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelementStart(1, \"pagination\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function ListsComponent_div_2_Template_pagination_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.pagination.CurrentPage = $event;\n    })(\"pageChanged\", function ListsComponent_div_2_Template_pagination_pageChanged_1_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.pageChanged($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"boundaryLinks\", true)(\"totalItems\", ctx_r1.pagination.TotalItems)(\"itemsPerPage\", ctx_r1.pagination.ItemsPerPage)(\"ngModel\", ctx_r1.pagination.CurrentPage);\n  }\n}\n\nexport let ListsComponent = /*#__PURE__*/(() => {\n  class ListsComponent {\n    constructor(blogService, router) {\n      this.blogService = blogService;\n      this.router = router;\n      this.blogs = [];\n      this.blogIds = new Set();\n      this.pageNumber = 1;\n      this.pageSize = 2;\n      this.loading = false;\n    }\n\n    ngOnInit() {\n      this.category = this.router.url.replace('/', '');\n      this.loadBlogs();\n      this.blogService.updatedBlogs$.subscribe(value => {\n        this.blogs = value;\n      });\n    }\n\n    loadBlogs() {\n      this.loading = true;\n      this.blogService.getBlogs(this.pageNumber, this.pageSize, this.category).subscribe(response => {\n        this.blogs = response.result;\n        this.pagination = response.pagination;\n        console.log('blogs: ', this.blogs);\n        console.log('pagination: ', this.pagination);\n        this.loading = false;\n      });\n    }\n\n    onSelectBlog(values) {\n      let blogId = values.currentTarget.value;\n\n      if (values.currentTarget.checked) {\n        this.blogIds.add(blogId);\n      } else {\n        this.blogIds.delete(blogId);\n      }\n\n      this.blogService.setBlogIds(Array.from(this.blogIds.values()));\n    }\n\n    pageChanged(event) {\n      this.pageNumber = event.page;\n      this.loadBlogs();\n    }\n\n  }\n\n  ListsComponent.ɵfac = function ListsComponent_Factory(t) {\n    return new (t || ListsComponent)(i0.ɵɵdirectiveInject(i1.BlogService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  ListsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListsComponent,\n    selectors: [[\"app-lists\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[1, \"list-group\"], [\"class\", \"list-group-item list-group-item-action\", \"aria-current\", \"true\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"d-flex justify-content-center\", 4, \"ngIf\"], [\"aria-current\", \"true\", 1, \"list-group-item\", \"list-group-item-action\"], [1, \"w-100\"], [\"type\", \"checkbox\", 1, \"form-check-input\", \"me-1\", 3, \"value\", \"change\"], [1, \"blog-title\"], [1, \"blog-time\"], [1, \"mb-1\"], [1, \"continue-link\", 3, \"routerLink\"], [1, \"d-flex\", \"justify-content-center\"], [\"previousText\", \"\\u2039\", \"nextText\", \"\\u203A\", \"firstText\", \"\\u00AB\", \"lastText\", \"\\u00BB\", 3, \"boundaryLinks\", \"totalItems\", \"itemsPerPage\", \"ngModel\", \"ngModelChange\", \"pageChanged\"]],\n    template: function ListsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, ListsComponent_li_1_Template, 13, 9, \"li\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, ListsComponent_div_2_Template, 2, 4, \"div\", 2);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.blogs);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.pagination);\n      }\n    },\n    directives: [i3.NgForOf, i3.NgIf, i2.RouterLinkWithHref, i4.NgControlStatus, i4.NgModel],\n    pipes: [i5.TimeagoPipe],\n    styles: [\".blog-title[_ngcontent-%COMP%]{margin-left:5px;font-weight:700;font-size:x-large}.blog-time[_ngcontent-%COMP%]{float:right}.continue-link[_ngcontent-%COMP%]{font-style:italic}\"]\n  });\n  return ListsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}