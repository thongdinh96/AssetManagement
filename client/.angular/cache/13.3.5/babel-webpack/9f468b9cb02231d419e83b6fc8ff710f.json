{"ast":null,"code":"import * as ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-bootstrap/modal\";\nimport * as i2 from \"../_services/blog.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@ckeditor/ckeditor5-angular\";\n\nfunction BlogCreateButtonComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"h4\", 3);\n    i0.ɵɵtext(2, \"Create blog\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function BlogCreateButtonComponent_ng_template_0_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.bsModalRef.hide();\n    });\n    i0.ɵɵelementStart(4, \"span\", 5);\n    i0.ɵɵtext(5, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 6);\n    i0.ɵɵelementStart(7, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function BlogCreateButtonComponent_ng_template_0_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.blog.title = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ckeditor\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function BlogCreateButtonComponent_ng_template_0_Template_ckeditor_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.blog.content = $event;\n    })(\"change\", function BlogCreateButtonComponent_ng_template_0_Template_ckeditor_change_8_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.onChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 9);\n    i0.ɵɵelementStart(10, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function BlogCreateButtonComponent_ng_template_0_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.onCreateBlog();\n    });\n    i0.ɵɵtext(11, \" Save \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.blog.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"editor\", ctx_r1.Editor)(\"ngModel\", ctx_r1.blog.content);\n  }\n}\n\nexport let BlogCreateButtonComponent = /*#__PURE__*/(() => {\n  class BlogCreateButtonComponent {\n    constructor(modalService, blogService, router, toastr) {\n      this.modalService = modalService;\n      this.blogService = blogService;\n      this.router = router;\n      this.toastr = toastr;\n      this.blog = {\n        title: '',\n        content: ''\n      };\n      this.Editor = ClassicEditor;\n    }\n\n    ngOnInit() {}\n\n    openCreateBlogModal(template) {\n      this.bsModalRef = this.modalService.show(template);\n    }\n\n    onCreateBlog() {\n      this.blog.category = this.router.url.replace('/', '');\n      this.blogService.createBlog(this.blog).subscribe(() => {\n        this.bsModalRef.hide();\n        this.toastr.success('Created blog successfully!');\n        this.blogService.getBlogs(this.blog.category).subscribe(response => {\n          this.blogService.setBlogs(response);\n        });\n      });\n    }\n\n    onChange({\n      editor\n    }) {\n      this.blog.content = editor.getData();\n    }\n\n  }\n\n  BlogCreateButtonComponent.ɵfac = function BlogCreateButtonComponent_Factory(t) {\n    return new (t || BlogCreateButtonComponent)(i0.ɵɵdirectiveInject(i1.BsModalService), i0.ɵɵdirectiveInject(i2.BlogService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ToastrService));\n  };\n\n  BlogCreateButtonComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BlogCreateButtonComponent,\n    selectors: [[\"app-blog-create-button\"]],\n    decls: 4,\n    vars: 0,\n    consts: [[\"template\", \"\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"mb-3\", 3, \"click\"], [1, \"modal-header\"], [1, \"modal-title\", \"pull-left\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", \"close\", \"pull-right\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"visually-hidden\"], [1, \"modal-body\"], [\"type\", \"text\", \"placeholder\", \"Title\", \"aria-label\", \"Title\", \"aria-describedby\", \"basic-addon1\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Type the content here!\", 3, \"editor\", \"ngModel\", \"ngModelChange\", \"change\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"float-start\", 3, \"click\"]],\n    template: function BlogCreateButtonComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r8 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵtemplate(0, BlogCreateButtonComponent_ng_template_0_Template, 12, 3, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementStart(2, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function BlogCreateButtonComponent_Template_button_click_2_listener() {\n          i0.ɵɵrestoreView(_r8);\n\n          const _r0 = i0.ɵɵreference(1);\n\n          return ctx.openCreateBlogModal(_r0);\n        });\n        i0.ɵɵtext(3, \" Create post\\n\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    directives: [i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i6.CKEditorComponent],\n    styles: [\"\"]\n  });\n  return BlogCreateButtonComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}